{"version":3,"file":"Server.js","sources":["Server.ts"],"names":["Server","Server.constructor","Server.start","","","Server.connection","","","","","","","Server.enterChunk","","","Server.checkChunkUpdate","Server.offerChunk","Server.requestChunk","","Server.sendChunk"],"mappings":"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"}